{{ template "base" . }}

{{ define "title" }}
	<title>Search result</title>
{{ end }}

{{ define "css" }}
	<style>
		p {
			font-family: 'Montserrat', sans-serif;
		}
		em {
				color: #ccc;
		}
	</style>
{{ end }}

{{ define "content" }}
		<div class="container">

				{{ $search := index .Data "search" }}

				<div class="row mt-3">
						<!-- Dummy placeholder col -->
						<div class="col-2"></div>

						<!-- Result col -->
						<div class="col-8">

								<!-- Search form by query -->
								<form action="/query" method="get" class="row">
									<input type="hidden" name="csrf_token" value="{{ .CSRFToken }}">

										<!-- Search: query input -->
										<div class="col">
											<input type="text" 
													class="form-control {{ with .Form.Errors.Get "query" }}is-invalid{{ end }}" 
													placeholder="Search.."  
													name="query"
													value="{{ $search.Query }}">

													{{ with .Form.Errors.Get "query" }}
														<div class="text-danger small ms-2">
															{{ . }}
														</div>
													{{ end }}

										</div>

										<div class="col-auto">
											<button type="submit" class="btn btn-outline-primary">Search</button>
										</div>
								</form>
								<h6 class="mt-3">
										Result for: <em>{{  $search.Query }}</em>
								</h6>
						</div>
						<div class="col-2"></div>
				</div>
		</div>
{{ end }}
